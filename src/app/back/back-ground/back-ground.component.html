<div class="dashboard-container">
    <!-- å·¦å´å°èˆª -->
    <div class="sidebar">
        <h2>ç®¡ç†å¾Œå°</h2>
        <div class="nav-link" [class.active]="activeSection === 'traffic'" (click)="showSection('traffic')">
            ğŸ“ˆ æµé‡ç´€éŒ„
        </div>
        <div class="nav-link" [class.active]="activeSection === 'faq'" (click)="showSection('faq')">
            ğŸ“‚ FAQ åˆ†é¡
        </div>
        <div class="nav-link" [class.active]="activeSection === 'success'" (click)="showSection('success')">
            âœ… æˆåŠŸç‡
        </div>
        <div class="nav-link" [class.active]="activeSection === 'unknown'" (click)="showSection('unknown')">
            â“ æœªçŸ¥å•é¡Œ
        </div>
        <div class="nav-link" [class.active]="activeSection === 'visitors'" (click)="showSection('visitors')">
            ğŸ‘¥ è¨ªå®¢çµ±è¨ˆ
        </div>
    </div>

    <!-- å³å´å…§å®¹ -->
    <div class="main">
        <div class="dashboard-header">
            <span>ğŸ“Š å„€è¡¨æ¿ç¸½è¦½</span>
            <div class="user-info">ç®¡ç†å“¡ï¼š{{ adminName }} | {{ currentDate }}</div>
        </div>

        <!-- çµ±è¨ˆæ¦‚è¦½ -->
        <div class="stats-row">
            <div class="stat-card" *ngFor="let card of statsCards">
                <div class="stat-number">{{ card.number }}</div>
                <div class="stat-label">{{ card.label }}</div>
            </div>
        </div>

        <!-- æµé‡ç´€éŒ„å€å¡Š -->
        <div class="card-grid">
            <!-- æµé‡ç´€éŒ„ -->
            <div class="card">
                <h3>ğŸ“ˆ æµé‡ç´€éŒ„</h3>
                <div class="tabs">
                    <button class="tab" [class.active]="activeTab === 'daily'" (click)="showTab('daily')">
                        æ¯æ—¥æ™‚æ®µ
                    </button>
                    <button class="tab" [class.active]="activeTab === 'hourly'" (click)="showTab('hourly')">
                        æ­·å²ä½¿ç”¨
                    </button>
                </div>

                <div *ngIf="activeTab === 'daily'" class="tab-content active">
                    <div class="chart-placeholder">æŠ˜ç·šåœ– - æ¯æ—¥ä½¿ç”¨æ¬¡æ•¸è¶¨å‹¢</div>
                    <div class="data-list">
                        <div class="data-item" *ngFor="let item of dailyData">
                            <span>{{ item.label }}</span>
                            <strong *ngIf="item.isHighlight; else normalValue">{{ item.value }}</strong>
                            <ng-template #normalValue>
                                <span>{{ item.value }}</span>
                            </ng-template>
                        </div>
                    </div>
                </div>

                <div *ngIf="activeTab === 'hourly'" class="tab-content active">
                    <div class="chart-placeholder">é•·æ¢åœ– - æ­·ä½¿ä½¿ç”¨è¶¨å‹¢</div>
                    <div class="data-list">
                        <div class="data-item" *ngFor="let item of hourlyData">
                            <span>{{ item.label }}</span>
                            <strong *ngIf="item.isHighlight; else normalValue">{{ item.value }}</strong>
                            <ng-template #normalValue>
                                <span>{{ item.value }}</span>
                            </ng-template>
                        </div>
                    </div>
                </div>
            </div>
            <!-- è¨ªå®¢çµ±è¨ˆ -->
            <div class="card">
                <h3>ğŸ‘¥ è¨ªå®¢ä½¿ç”¨çµ±è¨ˆ</h3>
                <div class="chart-placeholder">é•·æ¢åœ– - ç”¨æˆ¶èº«ä»½åˆ†æ</div>

                <div style="display:grid;grid-template-columns:1fr 1fr;gap:15px;margin:15px 0;">
                    <div style="text-align:center;padding:15px;background:#f8f9fa;border-radius:8px;">
                        <div style="font-size:20px;font-weight:bold;color:var(--primary-color);">67%</div>
                        <div style="font-size:14px;color:var(--text-secondary);">ç™»å…¥ç”¨æˆ¶</div>
                    </div>
                    <div style="text-align:center;padding:15px;background:#f8f9fa;border-radius:8px;">
                        <div style="font-size:20px;font-weight:bold;color:var(--primary-color);">33%</div>
                        <div style="font-size:14px;color:var(--text-secondary);">è¨ªå®¢ç”¨æˆ¶</div>
                    </div>
                </div>

                <!-- <table>
        <thead>
            <tr>
                <th>ç”¨æˆ¶èº«ä»½</th>
                <th>ä½¿ç”¨æ¬¡æ•¸</th>
                <th>å¹³å‡æ™‚é•·</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let stat of visitorStats">
                <td>{{ stat.identity }}</td>
                <td>{{ stat.usageCount | number }}</td>
                <td>{{ stat.averageDuration }}</td>
            </tr>
        </tbody>
    </table> -->
            </div>
            <!-- FAQ åˆ†é¡ -->
            <div class="card">
                <h3>ğŸ“‚ FAQ åˆ†é¡ç®¡ç†</h3>
                <table>
                    <thead>
                        <tr>
                            <th>åˆ†é¡åç¨±</th>
                            <th>å•é¡Œæ•¸</th>
                            <th>ä½¿ç”¨ç‡</th>
                            <th>æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let category of faqCategories">
                            <td>{{ category.name }}</td>
                            <td>{{ category.questionCount }}</td>
                            <td>
                                <div class="progress-bar">
                                    <div class="progress-fill" [style.width.%]="category.usageRate">
                                    </div>
                                </div>
                            </td>
                            <td>
                                <button class="btn btn-secondary" (click)="onButtonClick('ç·¨è¼¯')">
                                    ç·¨è¼¯
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
                <button class="btn btn-primary" style="margin-top:15px;" (click)="onButtonClick('æ–°å¢åˆ†é¡')">
                    æ–°å¢åˆ†é¡
                </button>
            </div>

            <!-- å›ç­”æˆåŠŸç‡ -->
            <div class="card">
                <h3>âœ… å›ç­”æˆåŠŸç‡è¿½è¹¤</h3>
                <div class="chart-placeholder">åœ“é¤…åœ– - æˆåŠŸç‡åˆ†æ</div>
                <div style="text-align:center;margin:15px 0;">
                    <div class="stat-number" style="font-size:24px;">87%</div>
                    <div class="stat-label">æ•´é«”æˆåŠŸç‡</div>
                </div>

                <table>
                    <thead>
                        <tr>
                            <th>å•é¡Œé¡å‹</th>
                            <th>æˆåŠŸç‡</th>
                            <th>ç‹€æ…‹</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let rate of successRates">
                            <td>{{ rate.type }}</td>
                            <td>{{ rate.rate }}</td>
                            <td>
                                <span [ngClass]="getStatusBadgeClass(rate.status)">
                                    {{ getStatusText(rate.status) }}
                                </span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- æœªçŸ¥å•é¡Œæ¸…å–® -->
            <div class="card">
                <h3>â“ æœªçŸ¥å•é¡Œæ”¶é›†</h3>
                <div style="margin-bottom:15px;">
                    <button class="btn btn-primary" (click)="onButtonClick('åŒ¯å‡ºæ¸…å–®')">
                        åŒ¯å‡ºæ¸…å–®
                    </button>
                    <button class="btn btn-secondary" style="margin-left:8px;" (click)="onButtonClick('æ‰¹æ¬¡è™•ç†')">
                        æ‰¹æ¬¡è™•ç†
                    </button>
                </div>

                <table>
                    <thead>
                        <tr>
                            <th>å•é¡Œå…§å®¹</th>
                            <th>æå•æ¬¡æ•¸</th>
                            <th>æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let question of unknownQuestions">
                            <td>{{ question.content }}</td>
                            <td>
                                <span [ngClass]="getCountBadgeClass(question.count)">
                                    {{ question.count }}
                                </span>
                            </td>
                            <td>
                                <button class="btn btn-secondary" (click)="onButtonClick('åŠ å…¥FAQ')">
                                    åŠ å…¥FAQ
                                </button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>


        </div>
    </div>
</div>